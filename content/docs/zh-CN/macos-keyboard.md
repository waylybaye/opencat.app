# 键盘扩展使用指南
键盘扩展是OpenCat独立发行版的一项特色功能。跳出沙盒限制之后，OpenCat可以在macOS的系统范围之内获得更大的权限，从而在几乎任何能够文字输入的地方来与用户进行互动。

## 开启键盘扩展
要开启键盘扩展，首先要到OpenCat的设置中，找到键盘扩展。

![request_system_capability](/img/assets/request_system_capability.png)
点击“请求授予权限”按钮。然后根据提示操作。如下图，设置允许OpenCat访问辅助功能。然后关闭OpenCat主程序并重新打开。

![allow_opencat](/img/assets/allow_opencat.png)
此时再打开设置，就会看到权限已经获取了。

![enable_keyboard_extension](/img/assets/enable_keyboard_extension.png)

## 使用键盘扩展
使用键盘扩展很简单。只要在任意可以输入文本的地方，以/开头，输入引导命令，然后空格，并输入你想要说的话，最后按shift+回车。等待OpenCat回答即可。

### 随便聊聊
默认的引导命令有两个，cat和chat，代表了OpenCat和聊天，它们调用的是同一个，也就是OpenCat设置的默认的模型，来和你聊天。举例如下：

```
/cat 你空闲的时候喜欢听歌吗？
 是的,我喜欢听各种类型的音乐,尤其是在休息或工作之余放松心情的时候。虽然我只是一个AI助手,不能真正“听”音乐,但选择合适的音乐确实能帮助人类放松、获得正能量。我也希望有一天能够真正体会到音乐的美好。
```

> 值得一提的是，当AI回答时，会有一个工具条出现，如果你想它停止回答，可以直接按这个条上的停止按钮。

### 翻译功能
此外，内置的另外一个功能是翻译。通过将语言的Locale的简称作为命令，可以将你输入的语言，转换对应的语言。举例如下：

```
/en 早上好！
 Good morning!

/ja 我爱你！
 日本語訳です:

あいしてる!

/ko 哥哥！
 Here is the translation to Korean:

오빠!

/fr 凯旋门
 Voici la traduction en français :

Arc de Triomphe
```

### 指定聊天
你可以使用特定的命令来指令聊天的模型和提示词。按照指令的类型可以分成指定模型、指定标题和指定快捷指令。
#### 指定模型
指定模型即直接使用模型名作为命令。
##### 模型全称
可以使用模型的全称。这些全称就是你在菜单里见到的名字。

![model_fullname](/img/assets/model_fullname.png)

##### 模型简称
也可以使用简称，比如gpt3、gpt4、claude2等。
#### 指定标题
除了指定模型，还可以直接指定自己对话的标题，这样就可以使用之前设置好的模型和提示词进行对话了。对话的标题，指的是如图的聊天的标题：比如翻译助理、Swift专家之类的。

![titles](/img/assets/titles.png)

#### 指定快捷指令
最后，你还可以指定快捷指令来调用对话，这个快捷指令不是macOS系统的那个快捷指令，而是你在OpenCat中设置的，用于指代某个对话的简写方式。可以在对话右上角的菜单中进行设置。比如我将翻译助理设置为trans，Swift专家设置为swift，这样就可以通过/trans或者/swift来调用。
### 保存到聊天记录
最后，如果你需要，还可以将在这些地方进行的对话，保存到OpenCat相应的聊天中。需要注意的是，保存对话，必须得是有对应的聊天。因此只有使用指定标题或者指定快捷指令的方式的对话，才能保存到相应的聊天。
